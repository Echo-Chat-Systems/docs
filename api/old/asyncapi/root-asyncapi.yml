asyncapi: '3.0.0'
info:
  title: Echo API
  version: '1.0.0'
  description: Test
    Project Echo client-server communications.
  contact:
    name: Kyle
    email: kylepannan@gmail.com 

servers:
  production:
    protocol: wss
    description: Main production server
    host: "echo.dafox.au"

defaultContentType: application/json

channels:
  meta:
    description: Server metadata.
    messages:
      ping:
        $ref: '#/components/messages/ping'
  auth:
    description: Authentication related messages.
    messages:
      signup-initiate:
        payload:
          type: string
    
operations: 
  ping:
    action: send 
    channel: 
      $ref: '#/channels/meta'
    reply:
      channel:
        $ref: '#/channels/meta'
    

components:
  messages:
    ping:
      description: Ping initiate
      payload:
        type: object
        properties:
          event:
            type: string
            const: ping
    pong: 
      description: Pong response
      payload:
        type: object
        properties:
          event:
            type: string
            const: pong


  schemas:
    message-envelope: 
      type: object
      properties:
        target: 
          type: string
        
    base-user-profile:
      type: object
      description: Basic user profile information
      properties:
        username: 
          type: string
        tag:
          type: integer
          description: test
          optional: true
        pronouns: 
          type: string
        bio:
          type: string
        css: 
          type: string
        pfp: 
          type: string
        banner:
          type: string
        timezone: 
          type: string
        status:
          type: object
          properties:
            type: 
              type: string
            text: 
              type: string

    ss-user-cert:
      type: object
      description: A user is the core component of  Echo.
      

