asyncapi: '3.0.0'
info:
  title: Echo API
  version: '1.0.0'
  description: Test
    Project Echo client-server communications.
  contact:
    name: Kyle
    email: kylepannan@gmail.com 

servers:
  production:
    protocol: wss
    description: Main production server
    host: "echo.dafox.au"

defaultContentType: application/json

channels:
  meta:
    description: Server metadata.
    messages:
      ping:
        $ref: '#/components/messages/ping'
  auth:
    description: Authentication related messages.
    messages:
      signin-initiate:
        payload:
          type: object
          $ref: "/schemas/comms/auth/signin/signin-start.json"
operations:
  ping:
    action: send 
    channel: 
      $ref: '#/channels/meta'
    reply:
      channel:
        $ref: '#/channels/meta'
    

components:
  messages:
    ping:
      description: Ping initiate
      payload:
        type: object
        properties:
          event:
            type: string
            const: ping
    pong: 
      description: Pong response
      payload:
        type: object
        properties:
          event:
            type: string
            const: pong